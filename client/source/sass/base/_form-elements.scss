$form--label--foreground: #3f5465;

$textbox--background: #0f151a;
$textbox--foreground: #5e7182;
$textbox--placeholder: #2b3946;
$textbox--border: #0c0f12;
$textbox--fulfilled--background: #0f151a;
$textbox--active--background: #0f151a;
$textbox--active--border: $blue;
$textbox--active--foreground: $blue;
$textbox--active--placeholder: $textbox--placeholder;

$button--primary--foreground: #fff;
$button--primary--background: $blue;
$button--primary--background--hover: lighten($button--primary--background, 4%);
$button--primary--border: darken(#212a38, 10%);
$button--primary--border--hover: $button--primary--border;

$button--deemphasized--foreground: #677c9e;
$button--deemphasized--background: #212a38;
$button--deemphasized--foreground--hover: lighten(#677c9e, 10%);
$button--deemphasized--background--hover: lighten(#212a38, 2.5%);
$button--deemphasized--border: darken($button--deemphasized--background, 10%);
$button--deemphasized--border--hover: $button--deemphasized--border;

$checkbox--background: #212a38;
$checkbox--background--hover: lighten($checkbox--background, 5%);
$checkbox--border: darken($button--deemphasized--background, 10%);
$checkbox--border--hover: $checkbox--border;

$modal--body--foreground: desaturate(lighten($foreground, 20%), 10%);

.textbox,
.button,
.checkbox {
  font-size: 0.9em;
}

.textbox,
.button {
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
  outline: none;
}

.textbox {
  background: $textbox--background;
  border-radius: 4px;
  border: 1px solid $textbox--border;
  color: $textbox--foreground;
  display: block;
  padding: 10px 15px;
  transition: background 0.25s, border 0.25s, color 0.25s;
  width: 100%;

  &::placeholder {
    color: $textbox--placeholder;
    font-style: italic;
    transition: color 0.25s;
  }

  &:focus {
    background: $textbox--active--background;
    border-color: $textbox--active--border;
    color: $textbox--active--foreground;

    &::placeholder {
      color: $textbox--active--placeholder;
    }
  }

  &.is-fulfilled {
    background: $textbox--fulfilled--background;
  }
}

.button {
  background: transparent;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
  padding: 8px 22px;
  transition: background 0.25s, color 0.25s;
  user-select: none;

  &.has-icon {

    .icon {
      height: 16px;
      margin: 0 $spacing-unit * 1/3;
      vertical-align: middle;
      width: 16px;

      &:first-child {
        margin-left: 0;
      }

      &:last-child {
        margin-right: 0;
      }
    }
  }

  &--deemphasize {
    background: $button--deemphasized--background;
    box-shadow: inset 0 0 0 1px $button--deemphasized--border;
    color: $button--deemphasized--foreground;

    &:hover {
      background: $button--deemphasized--background--hover;
      box-shadow: inset 0 0 0 1px $button--deemphasized--border--hover;
      color: $button--deemphasized--foreground--hover;
    }
  }

  &--primary {
    background: $button--primary--background;
    box-shadow: inset 0 0 0 1px $button--primary--border;
    color: $button--primary--foreground;
    white-space: nowrap;

    &:hover {
      background: $button--primary--background--hover;
      box-shadow: inset 0 0 0 1px $button--primary--border--hover;
    }
  }
}

.checkbox {
  cursor: pointer;
  line-height: 1;
  position: relative;

  &:hover {

    .checkbox {

      &__decoy {
        background: $checkbox--background--hover;
        border-color: $checkbox--border--hover;
      }
    }
  }

  input[type="checkbox"] {
    left: 0;
    opacity: 0;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);

    &:checked {

      & + .checkbox {

        &__decoy {

          .icon {
            display: block;
            fill: $blue;
          }
        }
      }
    }
  }

  &__decoy {
    @extend .textbox;
    background: $checkbox--background;
    border: 1px solid $checkbox--border;
    border-radius: 2px;
    display: inline-block;
    height: $spacing-unit * 8/10;
    margin-right: $spacing-unit * 3/10;
    margin-top: -2px;
    padding: 0;
    position: relative;
    vertical-align: middle;
    width: $spacing-unit * 8/10;

    .icon {
      fill: transparent;
      height: $spacing-unit * 2/5;
      left: 50%;
      position: absolute;
      top: 50%;
      transition: fill 0.25s;
      transform: translate(-50%, -50%);
      width: $spacing-unit * 2/5;
    }
  }

  &__label {
    color: darken($modal--body--foreground, 10%);
  }
}

.form {

  &__label {
    color: $form--label--foreground;
    display: block;
    font-size: 0.8em;
    line-height: 1;
    margin-bottom: 0.35em;
  }

  &__row {

    & + .form__row {
      margin-top: $spacing-unit;
    }
  }
}
